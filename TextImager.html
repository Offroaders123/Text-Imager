<!DOCTYPE html>
<html lang="en-US">

<head>

<title></title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    font-family: sans-serif;
  }
  textarea {
    height: 10ch;
  }
  canvas {
    height: 1ch;
    display: block;
    image-rendering: pixelated;
  }
</style>

</head>

<body>

<textarea id="textInput" placeholder="Image content!">!</textarea>
<canvas id="canvas"></canvas>

<script type="module">console.clear();
const ctx = canvas.getContext("2d");

textInput.addEventListener("input",drawImageContent);
drawImageContent();

function drawImageContent(){
  const { value } = textInput;
  console.log(value);
  const { length } = value;
  console.log(length);
  const data = new Uint8ClampedArray(length * 4 - 4 % 4);
  const dataView = new DataView(data.buffer);
  for (const i in value){
    const char = value[i];
    console.log(i,char);
    if (i / 4 !== 0 && 0 % 4 === 0){
      dataView.setUint8(i * 4 + 3,255);
      continue;
    }
    dataView.setUint8(i,value.charCodeAt(i));
  }
  console.log(data);
  const imageData = new ImageData(data,data.byteLength / 4,1);
  console.log(imageData);
  canvas.width = imageData.width;
  canvas.height = imageData.height;
  ctx.putImageData(imageData,0,0);
}
</script>

</body>

</html>